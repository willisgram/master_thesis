{
    "collab_server" : "",
    "contents" : "###################\n#Simple regression based on data from overlord\n###################\n\n#Create model using data from round 1 to predict round 2\n#Test model by using data from round 3 to predict round 4\n\nstatistics_0 <- inner_join(data_0,players_away, by = \"Surname\") %>% filter( Team == \"MCI\")\nstatistics_1 <- inner_join(data_1,players_away, by = \"Surname\") %>% filter( Team == \"MCI\")\nstatistics_2 <- inner_join(data_2,players_away, by = \"Surname\") %>% filter( Team == \"MCI\")\nstatistics_3 <- inner_join(data_3,players_away, by = \"Surname\") %>% filter( Team == \"MCI\")\nstatistics_4 <- inner_join(data_4,players_away, by = \"Surname\") %>% filter( Team == \"MCI\")\nstatistics_5 <- inner_join(data_4,players_away, by = \"Surname\") %>% filter( Team == \"MCI\")\nstatistics_6 <- inner_join(data_4,players_away, by = \"Surname\") %>% filter( Team == \"MCI\")\n\n\n\n#Create regressors\nregressors_0 <- statistics_0 %>% mutate(\n  cost_0 = Cost, \n  tot_points_0 = TotalPoints, \n  points_last_0 = PointsLastRound, \n  transfers_in_0 = TransfersInRound,\n  transfers_out_0 = TransfersOutRound,\n  selected_0 = SelectedByPercent\n) %>% select(cost_0,points_last_0,transfers_in_0,transfers_out_0,selected_0)\n\nregressors_1_1 <- statistics_1 %>% mutate(\n  cost_1 = Cost, \n  tot_points_1 = TotalPoints, \n  points_last_1 = PointsLastRound, \n  transfers_in_1 = TransfersInRound,\n  transfers_out_1 = TransfersOutRound,\n  selected_1 = SelectedByPercent\n) %>% select(cost_1,points_last_1,selected_1)\n\nregressors_2_1 <- statistics_2 %>% mutate(\n  cost_2 = Cost, \n  tot_points_2 = TotalPoints, \n  points_last_2 = PointsLastRound, \n  transfers_in_2 = TransfersInRound,\n  transfers_out_2 = TransfersOutRound,\n  selected_2 = SelectedByPercent\n) %>% select(cost_2,points_last_2,selected_2)\n\nregressors_3_1 <- statistics_3 %>% mutate(\n  cost_3 = Cost, \n  tot_points_3 = TotalPoints, \n  points_last_3 = PointsLastRound, \n  transfers_in_3 = TransfersInRound,\n  transfers_out_3 = TransfersOutRound,\n  selected_3 = SelectedByPercent\n) %>% select(cost_3,points_last_3,selected_3)\n\nregressors_1_2 <- statistics_1 %>% mutate(\n  cost_1 = Cost, \n  tot_points_1 = TotalPoints, \n  points_last_1 = PointsLastRound, \n  transfers_in_1 = TransfersInRound,\n  transfers_out_1 = TransfersOutRound,\n  selected_1 = SelectedByPercent\n) %>% select(cost_1,points_last_1,selected_1)\n\nregressors_2_2 <- statistics_2 %>% mutate(\n  cost_2 = Cost, \n  tot_points_2 = TotalPoints, \n  points_last_2 = PointsLastRound, \n  transfers_in_2 = TransfersInRound,\n  transfers_out_2 = TransfersOutRound,\n  selected_2 = SelectedByPercent\n) %>% select(cost_2,points_last_2,selected_2)\n\nregressors_3_2 <- statistics_3 %>% mutate(\n  cost_3 = Cost, \n  tot_points_3 = TotalPoints, \n  points_last_3 = PointsLastRound, \n  transfers_in_3 = TransfersInRound,\n  transfers_out_3 = TransfersOutRound,\n  selected_3 = SelectedByPercent\n) %>% select(cost_3,points_last_3,selected_3)\n\n\n#Fit model\n\npoints_3_1 <- data_3 %>% filter(\n  Surname %in% players_away$Surname\n) %>% filter(\n  Team == \"MCI\"\n) %>% mutate(\n  points = PointsLastRound\n) %>% select(\n  points\n)\ndata_set <- bind_cols(points_3,regressors_1_1,regressors_2_1)\n\nmodel <- lm(points ~ ., data = data_set)\nsummary(model)\n\n#Test model\ndata_set_new <- bind_cols(regressors_1_2,regressors_2_2)\n\npredictions <- predict(object = model,newdata = data_set_new)\n\nrealized_points <- data_6 %>% filter(\n  Surname %in% players_away$Surname\n) %>% filter(\n  Team == \"MCI\"\n) %>% mutate(\n  points = PointsLastRound\n) %>% select(\n  points\n)\n\ncompare <- data.frame(prediction = predictions, realized = realized_points)\n",
    "created" : 1517514559629.000,
    "dirty" : false,
    "encoding" : "UTF-8",
    "folds" : "",
    "hash" : "3751079653",
    "id" : "42E4F5EF",
    "lastKnownWriteTime" : 1517518446,
    "last_content_update" : 1517518446226,
    "path" : "~/Google Drive/5.KLASSE/Masteroppgave - VÃ¥r 2018/Uploads/sportradar/easy_regression.R",
    "project_path" : null,
    "properties" : {
    },
    "relative_order" : 3,
    "source_on_save" : false,
    "source_window" : "",
    "type" : "r_source"
}
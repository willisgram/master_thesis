View(data_0)
View(data_5)
#List after transfer window. Assume it to be enough
folder <- "input/"
year   <- "17"
week   <- "26"
sheet  <- paste0("FPL",year,"-GW",week,".csv")
path   <- paste0(folder,sheet)
data_26 <- read.csv(path)
players <- data_26 %>% mutate(
Surname_1   = if_else(grepl(Surname,pattern = " "),sub('.* ', '', Surname),Surname),
FirstName_1 = if_else(grepl(Surname,pattern = " "),sub(' .*', '',Surname ), FirstName)
)
players <- players %>% arrange(match(PositionsList, c("GLK","DEF","MID","FWD")),Team) %>% mutate(
index = 1:625
) %>% select(FirstName_1,Surname_1,PositionsList,Team,index)
runif(n = 1,min = 0,max = 15)
forecasts <- players %>% mutate(
gw_1 = runif(n = 625,min = 0,max = 16)
)
View(forecasts)
forecasts <- players %>% mutate(
gw_1 = runif(n = 625,min = 0,max = 16),
gw_2 = runif(n = 625,min = 0,max = 16),
gw_3 = runif(n = 625,min = 0,max = 16),
gw_4 = runif(n = 625,min = 0,max = 16),
gw_5 = runif(n = 625,min = 0,max = 16)
) %>% select(index,gw_1,gw_2,gw_3,gw_4,gw_5)
View(forecasts)
View(data_26)
players <- data_26 %>% mutate(
Surname_1   = if_else(grepl(Surname,pattern = " "),sub('.* ', '', Surname),Surname),
FirstName_1 = if_else(grepl(Surname,pattern = " "),sub(' .*', '',Surname ), FirstName)
)
players <- players %>% arrange(match(PositionsList, c("GLK","DEF","MID","FWD")),Team) %>% mutate(
index = 1:625
) %>% select(index,Cost)
View(players)
players_cost <- data_26 %>% mutate(
Surname_1   = if_else(grepl(Surname,pattern = " "),sub('.* ', '', Surname),Surname),
FirstName_1 = if_else(grepl(Surname,pattern = " "),sub(' .*', '',Surname ), FirstName)
)
players_cost <- players_cost %>% arrange(match(PositionsList, c("GLK","DEF","MID","FWD")),Team) %>% mutate(
index = 1:625
) %>% select(index,Cost)
View(players_cost)
forecasts <- players %>% mutate(
gw_1 = runif(n = 625,min = 0,max = 16),
gw_2 = runif(n = 625,min = 0,max = 16),
gw_3 = runif(n = 625,min = 0,max = 16),
gw_4 = runif(n = 625,min = 0,max = 16),
gw_5 = runif(n = 625,min = 0,max = 16)
) %>% select(index,gw_1,gw_2,gw_3,gw_4,gw_5)
#Add cost column:
players_cost <- data_26 %>% mutate(
Surname_1   = if_else(grepl(Surname,pattern = " "),sub('.* ', '', Surname),Surname),
FirstName_1 = if_else(grepl(Surname,pattern = " "),sub(' .*', '',Surname ), FirstName)
)
players_cost <- players_cost %>% arrange(match(PositionsList, c("GLK","DEF","MID","FWD")),Team) %>% mutate(
index = 1:625
) %>% select(index,Cost)
cost <- players_cost %>% mutate(
cost_1 = Cost,
cost_2 = Cost,
cost_3 = Cost,
cost_4 = Cost,
cost_5 = Cost
) %>% select(index,cost_1,cost_2,cost_3,cost_4,cost_5)
View(forecasts)
View(cost)
getwd()
list.files("\\\\sambaad.stud.ntnu.no/williaei/Documents/GitHub/master_thesis")
path_base <- "\\\\sambaad.stud.ntnu.no/williaei/Documents/GitHub/master_thesis/dynamic_data"
path_forecast <- paste0(path_base,"forecast.xlsx")
path_cost     <- paste0(path_base,"cost.xlsx")
write.xlsx(forecasts, file = path_forecast)
write.xlsx(cost, file = path_cost)
path_base <- "\\\\sambaad.stud.ntnu.no/williaei/Documents/GitHub/master_thesis/dynamic_data/"
path_forecast <- paste0(path_base,"forecast.xlsx")
path_cost     <- paste0(path_base,"cost.xlsx")
write.xlsx(forecasts, file = path_forecast)
write.xlsx(cost, file = path_cost)
write.xlsx(forecasts, file = path_forecast,row.names = F)
write.xlsx(cost, file = path_cost,row.names = F)
View(forecasts)
write.xlsx(forecasts, file = path_forecast,row.names = F)
write.xlsx(cost, file = path_cost,row.names = F)
rm(list = ls())
#Import training data
folder <- "input/"
year   <- "17"
week   <- "0"
sheet  <- paste0("FPL",year,"-GW",week,".csv")
path   <- paste0(folder,sheet)
data_0 <- read.csv(path)
for( i in 5:6){
year   <- "16"
week   <- as.character(i)
sheet  <- paste0("FPL",year,"-GW",week,".csv")
path   <- paste0(folder,sheet)
name   <- paste0("data_",week)
data   <- read.csv(path)
data <- data %>% mutate(
Surname_1   = if_else(grepl(Surname,pattern = " "),sub('.* ', '', Surname),Surname),
FirstName_1 = if_else(grepl(Surname,pattern = " "),sub(' .*', '',Surname ), FirstName)
)
assign(name,data)
}
View(data_5)
View(data_6)
#Add cost column:
players_cost_0 <- data_0 %>% mutate(
Surname_1   = if_else(grepl(Surname,pattern = " "),sub('.* ', '', Surname),Surname),
FirstName_1 = if_else(grepl(Surname,pattern = " "),sub(' .*', '',Surname ), FirstName)
)
?join
join()
folder <- "input/"
year   <- "17"
week   <- "26"
sheet  <- paste0("FPL",year,"-GW",week,".csv")
path   <- paste0(folder,sheet)
data_26 <- read.csv(path)
players <- data_26 %>% mutate(
Surname_1   = if_else(grepl(Surname,pattern = " "),sub('.* ', '', Surname),Surname),
FirstName_1 = if_else(grepl(Surname,pattern = " "),sub(' .*', '',Surname ), FirstName)
)
players <- players %>% arrange(match(PositionsList, c("GLK","DEF","MID","FWD")),Team) %>% mutate(
index = 1:625
) %>% select(FirstName_1,Surname_1,PositionsList,Team,index)
players_0 <- data_0 %>% mutate(
Surname_1   = if_else(grepl(Surname,pattern = " "),sub('.* ', '', Surname),Surname),
FirstName_1 = if_else(grepl(Surname,pattern = " "),sub(' .*', '',Surname ), FirstName)
) %>% select(FirstName_1,Surname_1)
players_0 <- data_0 %>% mutate(
Surname_1   = if_else(grepl(Surname,pattern = " "),sub('.* ', '', Surname),Surname),
FirstName_1 = if_else(grepl(Surname,pattern = " "),sub(' .*', '',Surname ), FirstName)
) %>% select(FirstName_1,Surname_1)
players_0 <- inner_join(players_0,players,by = c("FirstName_1" = "FirstName_1","Surname_1"="Surname_1"))
players_0 <- players_0 %>% arrange(index)
players_0 <- data_0 %>% mutate(
Surname_1   = if_else(grepl(Surname,pattern = " "),sub('.* ', '', Surname),Surname),
FirstName_1 = if_else(grepl(Surname,pattern = " "),sub(' .*', '',Surname ), FirstName)
) %>% select(FirstName_1,Surname_1)
players_0 <- full_join(players_0,players,by = c("FirstName_1" = "FirstName_1","Surname_1"="Surname_1"))
players_0 <- players_0 %>% arrange(index)
View(players_0)
players_0 <- data_0 %>% mutate(
Surname_1   = if_else(grepl(Surname,pattern = " "),sub('.* ', '', Surname),Surname),
FirstName_1 = if_else(grepl(Surname,pattern = " "),sub(' .*', '',Surname ), FirstName)
) %>% select(FirstName_1,Surname_1,Cost)
players_0 <- full_join(players_0,players,by = c("FirstName_1" = "FirstName_1","Surname_1"="Surname_1"))
players_0 <- players_0 %>% arrange(index)
data_1 <- read.csv(path)
folder <- "input/"
year   <- "17"
week   <- "2"
sheet  <- paste0("FPL",year,"-GW",week,".csv")
path   <- paste0(folder,sheet)
data_2 <- read.csv(path)
#Import fitting results
folder <- "input/"
year   <- "17"
week   <- "3"
sheet  <- paste0("FPL",year,"-GW",week,".csv")
path   <- paste0(folder,sheet)
data_3 <- read.csv(path)
players_0 <- data_0 %>% mutate(
Surname_1   = if_else(grepl(Surname,pattern = " "),sub('.* ', '', Surname),Surname),
FirstName_1 = if_else(grepl(Surname,pattern = " "),sub(' .*', '',Surname ), FirstName)
) %>% select(FirstName_1,Surname_1,Cost)
players_0 <- full_join(players_0,players,by = c("FirstName_1" = "FirstName_1","Surname_1"="Surname_1"))
players_0 <- players_0 %>% arrange(Cost)
625-502
625-501
players_0 <- data_0 %>% mutate(
Surname_1   = if_else(grepl(Surname,pattern = " "),sub('.* ', '', Surname),Surname),
FirstName_1 = if_else(grepl(Surname,pattern = " "),sub(' .*', '',Surname ), FirstName)
) %>% select(FirstName_1,Surname_1,Cost)
players_0 <- full_join(players_0,players,by = c("FirstName_1" = "FirstName_1","Surname_1"="Surname_1"))
players_0 <- players_0 %>% arrange(index)
players_1 <- data_1 %>% mutate(
Surname_1   = if_else(grepl(Surname,pattern = " "),sub('.* ', '', Surname),Surname),
FirstName_1 = if_else(grepl(Surname,pattern = " "),sub(' .*', '',Surname ), FirstName)
) %>% select(FirstName_1,Surname_1,Cost)
players_1 <- full_join(players_1,players,by = c("FirstName_1" = "FirstName_1","Surname_1"="Surname_1"))
players_1 <- players_1 %>% arrange(index)
players_2 <- data_2 %>% mutate(
Surname_2   = if_else(grepl(Surname,pattern = " "),sub('.* ', '', Surname),Surname),
FirstName_2 = if_else(grepl(Surname,pattern = " "),sub(' .*', '',Surname ), FirstName)
) %>% select(FirstName_1,Surname_1,Cost)
players_2 <- full_join(players_2,players,by = c("FirstName_1" = "FirstName_1","Surname_1"="Surname_1"))
players_2 <- players_2 %>% arrange(index)
#############################
# How to handle players not represented: Give them a 0 score AFTER regression is performed
#############################
###########################
#Check how well index matcing works
###########################
players_0 <- data_0 %>% mutate(
Surname_1   = if_else(grepl(Surname,pattern = " "),sub('.* ', '', Surname),Surname),
FirstName_1 = if_else(grepl(Surname,pattern = " "),sub(' .*', '',Surname ), FirstName)
) %>% select(FirstName_1,Surname_1,Cost)
players_0 <- full_join(players_0,players,by = c("FirstName_1" = "FirstName_1","Surname_1"="Surname_1"))
players_0 <- players_0 %>% arrange(index)
players_1 <- data_1 %>% mutate(
Surname_1   = if_else(grepl(Surname,pattern = " "),sub('.* ', '', Surname),Surname),
FirstName_1 = if_else(grepl(Surname,pattern = " "),sub(' .*', '',Surname ), FirstName)
) %>% select(FirstName_1,Surname_1,Cost)
players_1 <- full_join(players_1,players,by = c("FirstName_1" = "FirstName_1","Surname_1"="Surname_1"))
players_1 <- players_1 %>% arrange(index)
players_2 <- data_2 %>% mutate(
Surname_1   = if_else(grepl(Surname,pattern = " "),sub('.* ', '', Surname),Surname),
FirstName_1 = if_else(grepl(Surname,pattern = " "),sub(' .*', '',Surname ), FirstName)
) %>% select(FirstName_1,Surname_1,Cost)
players_2 <- full_join(players_2,players,by = c("FirstName_1" = "FirstName_1","Surname_1"="Surname_1"))
players_2 <- players_2 %>% arrange(index)
players_cost_0 <- full_join(players_0,players,by = c("FirstName_1" = "FirstName_1","Surname_1"="Surname_1"))
View(players_cost_0)
View(data_0)
players_cost_0 <- players_cost_0 %>% select(index,Cost)
players_0 <- data_0 %>% mutate(
Surname_1   = if_else(grepl(Surname,pattern = " "),sub('.* ', '', Surname),Surname),
FirstName_1 = if_else(grepl(Surname,pattern = " "),sub(' .*', '',Surname ), FirstName)
) %>% select(FirstName_1,Surname_1,Cost)
View(players_0)
players_0 <- full_join(players_0,players,by = c("FirstName_1" = "FirstName_1","Surname_1"="Surname_1"))
players_0 <- players_0 %>% arrange(index)
players_cost_0 <- players_0 %>% select(index,Cost)
cost_0 <- players_cost_0 %>% mutate(
cost_1 = Cost,
cost_2 = Cost,
cost_3 = Cost,
cost_4 = Cost,
cost_5 = Cost
) %>% select(index,cost_1,cost_2,cost_3,cost_4,cost_5)
View(cost_0)
forecasts_0 <- players %>% mutate(
gw_1 = runif(n = 625,min = 0,max = 16),
gw_2 = runif(n = 625,min = 0,max = 16),
gw_3 = runif(n = 625,min = 0,max = 16),
gw_4 = runif(n = 625,min = 0,max = 16),
gw_5 = runif(n = 625,min = 0,max = 16)
) %>% select(index,gw_1,gw_2,gw_3,gw_4,gw_5)
forecasts_1 <- players %>% mutate(
gw_2 = runif(n = 625,min = 0,max = 16),
gw_3 = runif(n = 625,min = 0,max = 16),
gw_4 = runif(n = 625,min = 0,max = 16),
gw_5 = runif(n = 625,min = 0,max = 16),
gw_6 = runif(n = 625,min = 0,max = 16)
) %>% select(index,gw_2,gw_3,gw_4,gw_5,gw_6)
forecasts_2 <- players %>% mutate(
gw_3 = runif(n = 625,min = 0,max = 16),
gw_4 = runif(n = 625,min = 0,max = 16),
gw_5 = runif(n = 625,min = 0,max = 16),
gw_6 = runif(n = 625,min = 0,max = 16),
gw_7 = runif(n = 625,min = 0,max = 16)
) %>% select(index,gw_3,gw_4,gw_5,gw_6,gw_7)
players_cost_0[is.na(players_cost_0)] <- 9999999999
View(players_cost_0)
cost_0 <- players_cost_0 %>% mutate(
cost_1 = Cost,
cost_2 = Cost,
cost_3 = Cost,
cost_4 = Cost,
cost_5 = Cost
) %>% select(index,cost_1,cost_2,cost_3,cost_4,cost_5)
View(cost_0)
players_0 <- data_0 %>% mutate(
Surname_1   = if_else(grepl(Surname,pattern = " "),sub('.* ', '', Surname),Surname),
FirstName_1 = if_else(grepl(Surname,pattern = " "),sub(' .*', '',Surname ), FirstName)
) %>% select(FirstName_1,Surname_1,Cost)
players_0 <- full_join(players_0,players,by = c("FirstName_1" = "FirstName_1","Surname_1"="Surname_1"))
players_0 <- players_0 %>% arrange(index)
players_1 <- data_1 %>% mutate(
Surname_1   = if_else(grepl(Surname,pattern = " "),sub('.* ', '', Surname),Surname),
FirstName_1 = if_else(grepl(Surname,pattern = " "),sub(' .*', '',Surname ), FirstName)
) %>% select(FirstName_1,Surname_1,Cost)
players_1 <- full_join(players_1,players,by = c("FirstName_1" = "FirstName_1","Surname_1"="Surname_1"))
players_1 <- players_1 %>% arrange(index)
players_2 <- data_2 %>% mutate(
Surname_1   = if_else(grepl(Surname,pattern = " "),sub('.* ', '', Surname),Surname),
FirstName_1 = if_else(grepl(Surname,pattern = " "),sub(' .*', '',Surname ), FirstName)
) %>% select(FirstName_1,Surname_1,Cost)
players_2 <- full_join(players_2,players,by = c("FirstName_1" = "FirstName_1","Surname_1"="Surname_1"))
players_2 <- players_2 %>% arrange(index)
players_cost_0 <- players_0 %>% select(index,Cost)
players_cost_0[is.na(players_cost_0)] <- 9999999999
cost_0 <- players_cost_0 %>% mutate(
cost_1 = Cost,
cost_2 = Cost,
cost_3 = Cost,
cost_4 = Cost,
cost_5 = Cost
) %>% select(index,cost_1,cost_2,cost_3,cost_4,cost_5)
players_cost_1 <- players_1 %>% select(index,Cost)
players_cost_1[is.na(players_cost_1)] <- 9999999999
cost_1 <- players_cost_1 %>% mutate(
cost_1 = Cost,
cost_2 = Cost,
cost_3 = Cost,
cost_4 = Cost,
cost_5 = Cost
) %>% select(index,cost_1,cost_2,cost_3,cost_4,cost_5)
players_cost_2 <- players_2 %>% select(index,Cost)
players_cost_2[is.na(players_cost_2)] <- 9999999999
cost_2 <- players_cost_0 %>% mutate(
cost_1 = Cost,
cost_2 = Cost,
cost_3 = Cost,
cost_4 = Cost,
cost_5 = Cost
) %>% select(index,cost_1,cost_2,cost_3,cost_4,cost_5)
View(players_cost_0)
View(cost_0)
View(cost_2)
View(data_2)
View(data_0)
View(players)
cost_2 <- players_cost_2 %>% mutate(
cost_1 = Cost,
cost_2 = Cost,
cost_3 = Cost,
cost_4 = Cost,
cost_5 = Cost
) %>% select(index,cost_1,cost_2,cost_3,cost_4,cost_5)
players_cost_0 <- players_0 %>% select(index,Cost)
players_cost_0[is.na(players_cost_0)] <- 9999999999
cost_0 <- players_cost_0 %>% mutate(
cost_1 = Cost,
cost_2 = Cost,
cost_3 = Cost,
cost_4 = Cost,
cost_5 = Cost
) %>% select(index,cost_1,cost_2,cost_3,cost_4,cost_5)
players_cost_1 <- players_1 %>% select(index,Cost)
players_cost_1[is.na(players_cost_1)] <- 9999999999
cost_1 <- players_cost_1 %>% mutate(
cost_1 = Cost,
cost_2 = Cost,
cost_3 = Cost,
cost_4 = Cost,
cost_5 = Cost
) %>% select(index,cost_1,cost_2,cost_3,cost_4,cost_5)
players_cost_2 <- players_2 %>% select(index,Cost)
players_cost_2[is.na(players_cost_2)] <- 9999999999
cost_2 <- players_cost_2 %>% mutate(
cost_1 = Cost,
cost_2 = Cost,
cost_3 = Cost,
cost_4 = Cost,
cost_5 = Cost
) %>% select(index,cost_1,cost_2,cost_3,cost_4,cost_5)
forecasts_0 <- players %>% mutate(
gw_1 = runif(n = 625,min = 0,max = 16),
gw_2 = runif(n = 625,min = 0,max = 16),
gw_3 = runif(n = 625,min = 0,max = 16),
gw_4 = runif(n = 625,min = 0,max = 16),
gw_5 = runif(n = 625,min = 0,max = 16)
) %>% select(index,gw_1,gw_2,gw_3,gw_4,gw_5)
forecasts_1 <- players %>% mutate(
gw_2 = runif(n = 625,min = 0,max = 16),
gw_3 = runif(n = 625,min = 0,max = 16),
gw_4 = runif(n = 625,min = 0,max = 16),
gw_5 = runif(n = 625,min = 0,max = 16),
gw_6 = runif(n = 625,min = 0,max = 16)
) %>% select(index,gw_2,gw_3,gw_4,gw_5,gw_6)
forecasts_2 <- players %>% mutate(
gw_3 = runif(n = 625,min = 0,max = 16),
gw_4 = runif(n = 625,min = 0,max = 16),
gw_5 = runif(n = 625,min = 0,max = 16),
gw_6 = runif(n = 625,min = 0,max = 16),
gw_7 = runif(n = 625,min = 0,max = 16)
) %>% select(index,gw_3,gw_4,gw_5,gw_6,gw_7)
#Create dummy forecasts
forecasts_0 <- players %>% mutate(
gw_1 = runif(n = 625,min = 0,max = 16),
gw_2 = runif(n = 625,min = 0,max = 16),
gw_3 = runif(n = 625,min = 0,max = 16),
gw_4 = runif(n = 625,min = 0,max = 16),
gw_5 = runif(n = 625,min = 0,max = 16)
) %>% select(index,gw_1,gw_2,gw_3,gw_4,gw_5)
forecasts_1 <- players %>% mutate(
gw_1 = runif(n = 625,min = 0,max = 16),
gw_2 = runif(n = 625,min = 0,max = 16),
gw_3 = runif(n = 625,min = 0,max = 16),
gw_4 = runif(n = 625,min = 0,max = 16),
gw_5 = runif(n = 625,min = 0,max = 16)
) %>% select(index,gw_1,gw_2,gw_3,gw_4,gw_5)
forecasts_2 <- players %>% mutate(
gw_1 = runif(n = 625,min = 0,max = 16),
gw_2 = runif(n = 625,min = 0,max = 16),
gw_3 = runif(n = 625,min = 0,max = 16),
gw_4 = runif(n = 625,min = 0,max = 16),
gw_5 = runif(n = 625,min = 0,max = 16)
) %>% select(index,gw_1,gw_2,gw_3,gw_4,gw_5)
#Create cost matrix
players_cost_0 <- players_0 %>% select(index,Cost)
players_cost_0[is.na(players_cost_0)] <- 9999999999
cost_0 <- players_cost_0 %>% mutate(
cost_1 = Cost,
cost_2 = Cost,
cost_3 = Cost,
cost_4 = Cost,
cost_5 = Cost
) %>% select(index,cost_1,cost_2,cost_3,cost_4,cost_5)
players_cost_1 <- players_1 %>% select(index,Cost)
players_cost_1[is.na(players_cost_1)] <- 9999999999
cost_1 <- players_cost_1 %>% mutate(
cost_1 = Cost,
cost_2 = Cost,
cost_3 = Cost,
cost_4 = Cost,
cost_5 = Cost
) %>% select(index,cost_1,cost_2,cost_3,cost_4,cost_5)
players_cost_2 <- players_2 %>% select(index,Cost)
players_cost_2[is.na(players_cost_2)] <- 9999999999
cost_2 <- players_cost_2 %>% mutate(
cost_1 = Cost,
cost_2 = Cost,
cost_3 = Cost,
cost_4 = Cost,
cost_5 = Cost
) %>% select(index,cost_1,cost_2,cost_3,cost_4,cost_5)
library(xlsx)
path_base <- "\\\\sambaad.stud.ntnu.no/williaei/Documents/GitHub/master_thesis/dynamic_data/"
path_forecast_0 <- paste0(path_base,"forecast_0.xlsx")
path_cost_0     <- paste0(path_base,"cost_0.xlsx")
write.xlsx(forecasts_0, file = path_forecast_0,row.names = F)
write.xlsx(cost_0, file = path_cost_0,row.names = F)
path_base <- "\\\\sambaad.stud.ntnu.no/williaei/Documents/GitHub/master_thesis/dynamic_data/"
path_forecast_1 <- paste0(path_base,"forecast_1.xlsx")
path_cost_1     <- paste0(path_base,"cost_1.xlsx")
write.xlsx(forecasts_1, file = path_forecast_1,row.names = F)
write.xlsx(cost_1, file = path_cost_1,row.names = F)
path_base <- "\\\\sambaad.stud.ntnu.no/williaei/Documents/GitHub/master_thesis/dynamic_data/"
path_forecast_2 <- paste0(path_base,"forecast_2.xlsx")
path_cost_2     <- paste0(path_base,"cost_2.xlsx")
write.xlsx(forecasts_2, file = path_forecast_2,row.names = F)
write.xlsx(cost_2, file = path_cost_2,row.names = F)
folder <- "input/"
year   <- "17"
week   <- "26"
sheet  <- paste0("FPL",year,"-GW",week,".csv")
path   <- paste0(folder,sheet)
data_26 <- read.csv(path)
players <- data_26 %>% mutate(
Surname_1   = if_else(grepl(Surname,pattern = " "),sub('.* ', '', Surname),Surname),
FirstName_1 = if_else(grepl(Surname,pattern = " "),sub(' .*', '',Surname ), FirstName)
)
players <- players %>% arrange(match(PositionsList, c("GLK","DEF","MID","FWD")),Team) %>% mutate(
index = 1:625
) %>% select(FirstName_1,Surname_1,PositionsList,Team,index)
################
#Complete player list
################
library(tidyverse'')
################
#Complete player list
################
library(tidyverse)
#List after transfer window. Assume it to be enough
folder <- "input/"
year   <- "17"
week   <- "26"
sheet  <- paste0("FPL",year,"-GW",week,".csv")
path   <- paste0(folder,sheet)
data_26 <- read.csv(path)
players <- data_26 %>% mutate(
Surname_1   = if_else(grepl(Surname,pattern = " "),sub('.* ', '', Surname),Surname),
FirstName_1 = if_else(grepl(Surname,pattern = " "),sub(' .*', '',Surname ), FirstName)
)
players <- data_26 %>% mutate(
Surname_1   = if_else(grepl(Surname,pattern = " "),sub('.* ', '', Surname),Surname),
FirstName_1 = if_else(grepl(Surname,pattern = " "),sub(' .*', '',Surname ), FirstName)
)
library(tidyverse)
library(httr)
library(jsonlite)
options(stringsAsFactors = FALSE)
players <- data_26 %>% mutate(
Surname_1   = if_else(grepl(Surname,pattern = " "),sub('.* ', '', Surname),Surname),
FirstName_1 = if_else(grepl(Surname,pattern = " "),sub(' .*', '',Surname ), FirstName)
)
#List after transfer window. Assume it to be enough
folder <- "input/"
year   <- "17"
week   <- "26"
sheet  <- paste0("FPL",year,"-GW",week,".csv")
path   <- paste0(folder,sheet)
data_26 <- read.csv(path)
players <- data_26 %>% mutate(
Surname_1   = if_else(grepl(Surname,pattern = " "),sub('.* ', '', Surname),Surname),
FirstName_1 = if_else(grepl(Surname,pattern = " "),sub(' .*', '',Surname ), FirstName)
)
players <- players %>% arrange(match(PositionsList, c("GLK","DEF","MID","FWD")),Team) %>% mutate(
index = 1:625
) %>% select(FirstName_1,Surname_1,PositionsList,Team,index)
View(players)
path_base <- "\\\\sambaad.stud.ntnu.no/williaei/Documents/GitHub/master_thesis/output/"
path_team_0 <- paste0(path_base,"InstanXoutputGW0.txt")
players_selected <- read.table(path_team_0)
list.files(path_base)
path_base <- "\\\\sambaad.stud.ntnu.no/williaei/Documents/GitHub/master_thesis/output/"
path_team_0 <- paste0(path_base,"InstansXoutputGW0.txt")
players_selected <- read.table(path_team_0)
team <- [1,23,120,199,252,261,268,296,355,394,408,521,585,603,605]
team <- c(1,23,120,199,252,261,268,296,355,394,408,521,585,603,605)
players_selected <- data.frame(index = team)
View(players_selected)
team_0 <- inner_join(players,players_selected,by = "index")
View(team_0)
